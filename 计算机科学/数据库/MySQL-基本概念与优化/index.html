<!-- build time:Fri Apr 23 2021 17:18:45 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="专注技术分享" href="http://yrmlnf.coding-pages.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="专注技术分享" href="http://yrmlnf.coding-pages.com/atom.xml"><link rel="alternate" type="application/json" title="专注技术分享" href="http://yrmlnf.coding-pages.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="mysql"><link rel="canonical" href="http://yrmlnf.coding-pages.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E4%B8%8E%E4%BC%98%E5%8C%96/"><title>MySQL-基本概念与优化 - 数据库 - 计算机科学 | Lucas Home = 专注技术分享 = 醒醒，别做梦了</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">MySQL-基本概念与优化</h1><div class="meta"><span class="item" title="创建时间：2020-04-17 15:51:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2020-04-17T15:51:00+08:00">2020-04-17</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>7.8k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>7 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Lucas Home</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva4.sinaimg.cn/large/005yAHGDly8gplfduz9ikj31hc0u0gsu.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/005yAHGDly8gplgucy4rgj31hc0u0e06.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/005yAHGDly8gplguyta0ij31hc0u07d4.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/005yAHGDly8gplgv96yqhj31hc0u0k2r.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/005yAHGDly8gplguhc0akj31hc0u0qbg.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/005yAHGDly8gplgux2ynoj31hc0u07d2.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" itemprop="item" rel="index" title="分类于 计算机科学"><span itemprop="name">计算机科学</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="item" rel="index" title="分类于 数据库"><span itemprop="name">数据库</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://yrmlnf.coding-pages.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E4%B8%8E%E4%BC%98%E5%8C%96/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Lucas"><meta itemprop="description" content="醒醒，别做梦了, "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="专注技术分享"></span><div class="body md" itemprop="articleBody"><h1 id="mysql的逻辑结构"><a class="anchor" href="#mysql的逻辑结构">#</a> Mysql 的逻辑结构</h1><p><img data-src="1.jpg" alt="Mysql的逻辑结构"></p><p>MySQL 逻辑结构分为三层：</p><ul><li>客户端层：<br>负责连接处理，授权认证，安全服务等功能</li><li>核心服务层：<br>负责解析，分析，优化，存储过程，触发器，视图等功能</li><li>存储层：<br>负责数据的存储和提取，类似于 Java 接口的实现，Mysql 的执行器在执行 SQL 的时候只会关注 API 的调用，完全屏蔽了不同引擎实现间的差异。比如 Select 语句，先会判断当前用户是否拥有权限，其次到缓存（内存）查询是否有相应的结果集，如果没有再执行解析 sql，优化生成执行计划，调用 API 执行</li></ul><h1 id="事务的基本要素acid"><a class="anchor" href="#事务的基本要素acid">#</a> 事务的基本要素 (ACID)</h1><ul><li>原子性（Atomic）：事务是一个原子操作单元，其对数据的修改，要么全部执行，要么全部不执行</li><li>一致性（Consistency）：在事务开始前和结束后，数据库的完整性约束没有被破坏</li><li>隔离性（Isolation）：指一个事务的执行不能被其他事务干扰，即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发事务之间互不干扰</li><li>持久性（Durability）：指一个事务一旦提交，事务对数据库的所有更改都会保存到数据库里</li></ul><details class="info"><summary>完整性约束</summary><div><div class="note info"><p>完整性约束 (Data Integrity) 是指数据的精确 (Accuracy) 和可靠性 (Reliability)。包括：</p><ol><li>实体完整性 (行)：规定表的每一行在表中是惟一的实体。</li><li>域完整性 (列)：是指表中的列必须满足某种特定的数据类型约束，其中约束又包括取值范围、精度等规定。</li><li>参照完整性：是指两个表的主关键字和外关键字的数据应一致，保证了表之间的数据的一致性，防止了数据丢失或无意义的数据在数据库中扩散。</li><li>用户定义的完整性：不同的关系数据库系统根据其应用环境的不同，往往还需要一些特殊的约束条件。用户定义的完整性即是针对某个特定关系数据库的约束条件，它反映某一具体应用必须满足的语义要求。</li></ol></div></div></details><h1 id="事务的并发问题"><a class="anchor" href="#事务的并发问题">#</a> 事务的并发问题</h1><ul><li>脏读：<br>事务 A 读取了事务 B 更新的数据，然后事务 B 回滚了，那么 A 读到的就是脏数据</li><li>不可重复读：<br>在同一事务内，不同时间读取同一批数据可能会不一样，这批数据<br>可能会受到别的事务的影响，比如其他事务更新了这批数据并提交了，通常针对数据更新</li><li>幻读：<br>幻读针对数据插入，A 事务对一批数据进行修改但还没有提交，此时事务 B 插入了一批与 A 事务修改前的记录一样的记录进来，并且在事务 A 之前提交了，而这时，在事务 A 查询会发现好像刚刚做的修改并未起作用，但事实是事务 B 刚插入进来的数据，让用户感觉自己出现幻觉，这就叫做幻读</li></ul><h1 id="mysql事务隔离级别"><a class="anchor" href="#mysql事务隔离级别">#</a> MySQL 事务隔离级别</h1><p>SQL 标准定义了四种隔离级别，MySQL 全都支持。这四种隔离级别分别是：</p><ul><li>读未提交（READ UNCOMMITTED）</li><li>读提交 （READ COMMITTED）</li><li>可重复读 （REPEATABLE READ）</li><li>串行化 （SERIALIZABLE）</li></ul><p>从上往下，隔离强度逐渐增强，性能逐渐变差。采用哪种隔离级别要根据系统需求权衡决定，其中，可重复读是 MySQL 的默认级别。</p><div class="note info"><p>可重复读指的是在一个事务内，最开始读到的数据和事务结束前的任意时刻读到的同一批数据都是一致的。通常针对数据更新（UPDATE）操作。</p></div><p>事务隔离其实就是为了解决上面提到的脏读、不可重复读、幻读这几个问题，下面展示了 4 种隔离级别对这三个问题的解决程度。</p><table><thead><tr><th>隔离程度</th><th>脏读</th><th>不可重复读</th><th>幻读</th></tr></thead><tbody><tr><td>读未提交</td><td>可能</td><td>可能</td><td>可能</td></tr><tr><td>读提交</td><td>不可能</td><td>可能</td><td>可能</td></tr><tr><td>可重复读</td><td>不可能</td><td>不可能</td><td>可能</td></tr><tr><td>串行化</td><td>不可能</td><td>不可能</td><td>不可能</td></tr></tbody></table><p>在 MySQL 可重复读的隔离级别中并不是完全解决了幻读的问题，而是解决了读数据情况下的幻读问题。而对于修改的操作依旧存在幻读问题，就是说 MVCC 对于幻读的解决时不彻底的。<br>通过索引加锁，间隙锁，next-key lock 可以解决幻读的问题。</p><div class="note info"><p>MySQL InnoDB 存储引擎，实现的是基于多版本的并发控制协议 ——MVCC (Multi-Version Concurrency Control) (注：与 MVCC 相对的，是基于锁的并发控制，Lock-Based Concurrency Control)。MVCC 最大的好处，相信也是耳熟能详：读不加锁，读写不冲突。在读多写少的 OLTP 应用中，读写不冲突是非常重要的，极大的增加了系统的并发性能，这也是为什么现阶段，几乎所有的 RDBMS，都支持了 MVCC。</p></div><h1 id="mysql的锁"><a class="anchor" href="#mysql的锁">#</a> MySQL 的锁</h1><p>InnoDB 有三种行锁的算法：</p><ol><li>Record Lock：单个行记录上的锁。</li><li>Gap Lock：间隙锁，锁定一个范围，但不包括记录本身。GAP 锁的目的，是为了防止同一事务的两次当前读，出现幻读的情况。</li><li>Next-Key Lock：行锁和间隙锁组合起来，锁定一个范围，并且锁定记录本身。对于行的查询，都是采用该方法，主要目的是解决幻读的问题。</li></ol><p>innoDB 默认的隔离级别是可重复读 (Repeatable Read)，并且会以 Next-Key Lock 的方式对数据行进行加锁。Next-Key Lock 是行锁和间隙锁的组合，当 InnoDB 扫描索引记录的时候，会首先对索引记录加上行锁（Record Lock），再对索引记录两边的间隙加上间隙锁（Gap Lock）。加上间隙锁之后，其他事务就不能在这个间隙修改或者插入记录</p><p>何时使用行锁，何时产生间隙锁</p><ol><li>只使用唯一索引查询，并且只锁定一条记录时，innoDB 会使用行锁。</li><li>只使用唯一索引查询，但是检索条件是范围检索，或者是唯一检索然而检索结果不存在（试图锁住不存在的数据）时，会产生 Next-Key Lock。</li><li>使用普通索引检索时，不管是何种查询，只要加锁，都会产生间隙锁。</li><li>同时使用唯一索引和普通索引时，由于数据行是优先根据普通索引排序，再根据唯一索引排序，所以也会产生间隙锁。</li></ol><p>在 MVCC 并发控制中，读操作可以分成两类：快照读 (snapshot read) 与当前读 (current read)。快照读，读取的是记录的可见版本 (有可能是历史版本)，不用加锁。当前读，读取的是记录的最新版本，并且，当前读返回的记录，都会加上锁，保证其他事务不会再并发修改这条记录。</p><ul><li>快照读：<br>简单的 select 操作， 比如读历史记录，这些不会因为并发被修改的记录，属于快照读（有时候会加锁防止因为并发引起的数据不一致）<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">table</span> <span class="token keyword">where</span> ?<span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>当前读：<br>插入 / 更新 / 删除操作，属于当前读，需要加锁，查询看情况加锁<figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">table</span> <span class="token keyword">where</span> ? <span class="token keyword">lock</span> <span class="token operator">in</span> <span class="token keyword">share</span> <span class="token keyword">mode</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token keyword">table</span> <span class="token keyword">where</span> ? <span class="token keyword">for</span> <span class="token keyword">update</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">table</span> <span class="token keyword">values</span> <span class="token punctuation">(</span>…<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">update</span> <span class="token keyword">table</span> <span class="token keyword">set</span> ? <span class="token keyword">where</span> ?<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token keyword">table</span> <span class="token keyword">where</span> ?<span class="token punctuation">;</span></pre></td></tr></table></figure></li><li>共享锁 (S)：用法 lock in share mode，又称读锁，允许一个事务去读一行，阻止其他事务获得相同数据集的排他锁。若事务 T 对数据对象 A 加上 S 锁，则事务 T 可以读 A 但不能修改 A，其他事务只能再对 A 加 S 锁，而不能加 X 锁，直到 T 释放 A 上的 S 锁。这保证了其他事务可以读 A，但在 T 释放 A 上的 S 锁之前不能对 A 做任何修改。</li><li>排他锁 (X)：用法 for update，又称写锁，允许获取排他锁的事务更新数据，阻止其他事务取得相同的数据集共享读锁和排他写锁。若事务 T 对数据对象 A 加上 X 锁，事务 T 可以读 A 也可以修改 A，其他事务不能再对 A 加任何锁，直到 T 释放 A 上的锁。在没有索引的情况下，InnoDB 只能使用表锁。</li></ul><h1 id="mysql查询过程"><a class="anchor" href="#mysql查询过程">#</a> MySQL 查询过程</h1><p><img data-src="1.jpg" alt="MySQL查询过程"></p><p>SQL 的执行顺序：from---where--group by---having---select---order by</p><h1 id="mysql日志系统"><a class="anchor" href="#mysql日志系统">#</a> MySQL 日志系统</h1><p>MySQL 日志分为 redo log (重做日志)，undo log（回滚日志），binlog（归档日志）</p><ul><li>redo log：<ul><li>作用：<ol><li>确保事务的持久性</li><li>防止在发生故障的时间点，尚有脏页未写入磁盘，在重启 mysql 服务的时候，根据 redo log 进行重做，<ins>从而达到事务的持久性这一特性</ins></li></ol></li><li>内容：<br>物理格式的日志，记录的是物理数据页面的修改的信息，其 redo log 是顺序写入 redo log file 的物理文件中去的。</li><li>产生：<br>重做日志在事务进行中不断地被写入，并日志不是随事务提交的顺序进行写入的。</li><li>释放：<br>当对应事务的脏页写入到磁盘之后，redo log 的使命也就完成了，重做日志占用的空间就可以重用（被覆盖）。</li></ul></li><li>binlog：<ul><li>作用：<ol><li><ins>用于复制，在主从复制中，从库利用主库上的 binlog 进行重播，实现主从同步</ins></li><li><ins>用于数据库的基于时间点的还原</ins></li></ol></li><li>内容：记录了执行的 SQL 语句与其的反向信息，也就意味着 delete 对应着 delete 本身和其反向的 insert；update 对应着 update 执行前后的版本的信息；insert 对应着 delete 和 insert 本身的信息。</li><li>产生： 事务提交的时候</li><li>释放：binlog 的默认是保持时间由参数 expire_logs_days 配置</li></ul></li><li>undo log:<ul><li>作用：<ins>保存事务发生前的一个版本，可以用于回滚</ins>，同时可以提供多版本并发控制下的读（MVCC），也即非锁定读</li><li>内容：逻辑格式的日志，在执行 undo 的时候，仅仅是将数据从逻辑上恢复至事务之前的状态，而不是从物理页面上操作实现的，这一点是不同于 redo log 的。</li><li>产生：事务开始之前，将当前是的版本生成 undo log，undo 也会产生 redo 来保证 undo log 的可靠性</li><li>释放：当事务提交之后，undo log 并不能立马被删除，而是放入待清理的链表，由 purge 线程判断是否由其他事务在使用 undo 段中表的上一个事务之前的版本信息，决定是否可以清理 undo log 的日志空间。</li></ul></li></ul><p>binlog 和 redo log 的区别：</p><ol><li>redolog 产生在 mysql 的服务层面，binlog 产生在 mysql 的客户端层面</li><li>两种日志记录的内容不一样</li><li>两种日志写入的时间点不一样，binlog 在事务提交才会写入，redo log 随着事务的进行不断写入</li><li>binlog 用于主重复制和数据恢复用，redo log 用于服务异常宕机的数据恢复</li></ol><p>&lt;h1 id=&quot;Mysql 如何保证一致性和持久性&quot;&gt;Mysql 如何保证一致性和持久性 &lt; a class=&quot;anchor&quot; href=&quot;#Mysql 如何保证一致性和持久性&quot; data-pjax-state=&quot;&quot;&gt;#&lt;/a&gt;&lt;/h1&gt;</p><p>MySQL 为了保证 ACID 中的一致性和持久性，使用了 WAL (Write-Ahead Logging, 先写日志再写磁盘)。Redo log 就是一种 WAL 的应用。当数据库忽然掉电，再重新启动时，MySQL 可以通过 Redo log 还原数据。也就是说，每次事务提交时，不用同步刷新磁盘数据文件，只需要同步刷新 Redo log 就足够了。</p><h1 id="mysql索引"><a class="anchor" href="#mysql索引">#</a> Mysql 索引</h1><p>MySQL 的索引分为两种：</p><ol><li>Hash 索引：通常用于单行查询。</li><li>B + 树索引：通常用于范围查询</li></ol><p>为什么选择 B + 树作为索引结构<br>首先先谈谈为什么不用其他数据结构来作为索引结构</p><ul><li>Hash 索引：<br>Hash 索引的底层是 Hash 表，Hash 表是一种以 key-value 存储数据的结构，所以多个索引在存储关系上是完全没顺序关系的，所以区间查询是无法直接通过索引查询的，必须通过全表查询，所以哈希索引只适用于等值查询的场景</li><li>二叉查找树：<br>二叉查找树在特殊情况下会退化成链表，无法解决平衡的问题</li><li>二叉平衡树：<br>二叉平衡树解决了平衡的问题，但是旋转的效率太低</li><li>红黑树：<br>舍弃严格的平衡与引入红黑节点，解决了 AVL 旋转效率过低的问题，但是还是存在问题。一是我们知道数据库查询的时间复杂度与树的高度有关。而红黑树是二叉树这就导致了查询效率较低。二是红黑树是基于内存操作的，在查询的时候需要将全部数据放进内存，我们知道有时候数据库的数据非常大，这将非常消耗内存，而 B + 树是基于磁盘查询，不用一次性把数据载入内存。</li></ul><p>而为什么使用 B + 树，首先看看 B + 树的数据结构，可以参考我的其他文章，<a href="/2020/11/05/2020/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-B%E6%A0%91%E3%80%81B-%E6%A0%91%E3%80%81B-%E6%A0%91/"> 数据结构 - B 树、B + 树、B - 树</a>，总结起来有下面三点</p><ol><li>B + 树的数据都存在于叶子节点，这让查询的时间复杂度更加稳定</li><li>B + 树除了叶子节点存数据，其他节点只存索引，这使得每一层树能存更多的索引，能让树的高度更低，使得查询效率更快</li><li>B + 树的叶子节点以链表的方式组成，更加适用与范围查询与区间查询</li></ol><h2 id="聚簇索引与非聚簇索引"><a class="anchor" href="#聚簇索引与非聚簇索引">#</a> 聚簇索引与非聚簇索引</h2><ul><li>聚簇索引：B+ Tree 的叶子节点存储的是整行数据和主键的值</li><li>非聚簇索引：B+ Tree 的叶子节点存储了主键的值</li></ul><p>在 innodb 中，在聚簇索引之上创建的索引称之为辅助索引 (二级索引)，非聚簇索引都是辅助索引，像复合索引、前缀索引、唯一索引。辅助索引叶子节点存储的不再是行的物理位置，而是主键值，辅助索引访问数据总是需要二次查找。</p><p><img data-src="3.jpg" alt="innodb"></p><p>MyISAM 使用的是非聚簇索引，非聚簇索引的两棵 B + 树看上去没什么不同，节点的结构完全一致只是存储的内容不同而已，主键索引 B + 树的节点存储了主键，辅助键索引 B + 树存储了辅助键。表数据存储在独立的地方，这两颗 B + 树的叶子节点都使用一个地址指向真正的表数据，对于表数据来说，这两个键没有任何差别。由于索引树是独立的，通过辅助键检索无需访问主键的索引树。</p><p><img data-src="4.jpg" alt="MyISAM"></p><p>每次使用辅助索引检索都要经过两次 B + 树查找，看上去聚簇索引的效率明显要低于非聚簇索引，这不是多此一举吗？聚簇索引的优势在哪？</p><ol><li>由于行数据和聚簇索引的叶子节点存储在一起，同一页中会有多条行数据，访问同一数据页不同行记录时，已经把页加载到了 Buffer 中（缓存器），再次访问时，会在内存中完成访问，不必访问磁盘。这样主键和行数据是一起被载入内存的，找到叶子节点就可以立刻将行数据返回了，如果按照主键 Id 来组织数据，获得数据更快。</li><li>辅助索引的叶子节点，存储主键值，而不是数据的存放地址。好处是当行数据放生变化时，索引树的节点也需要分裂变化；或者是我们需要查找的数据，在上一次 IO 读写的缓存中没有，需要发生一次新的 IO 操作时，可以避免对辅助索引的维护工作，只需要维护聚簇索引树就好了。另一个好处是，因为辅助索引存放的是主键值，减少了辅助索引占用的存储空间大小。</li></ol><div class="note info"><p>注：我们知道一次 io 读写，可以获取到 16K 大小的资源，我们称之为读取到的数据区域为 Page。而我们的 B 树，B + 树的索引结构，叶子节点上存放好多个关键字（索引值）和对应的数据，都会在一次 IO 操作中被读取到缓存中，所以在访问同一个页中的不同记录时，会在内存里操作，而不用再次进行 IO 操作了。除非发生了页的分裂，即要查询的行数据不在上次 IO 操作的换村里，才会触发新的 IO 操作。</p></div><ol start="3"><li>因为 MyISAM 的主索引并非聚簇索引，那么他的数据的物理地址必然是凌乱的，拿到这些物理地址，按照合适的算法进行 I/O 读取，于是开始不停的寻道不停的旋转。聚簇索引则只需一次 I/O。（强烈的对比）</li><li>不过，如果涉及到大数据量的排序、全表扫描、count 之类的操作的话，还是 MyISAM 占优势些，因为索引所占空间小，这些操作是需要在内存中完成的。</li></ol><p><ins>当使用主键为聚簇索引时，主键最好不要使用 uuid</ins>，因为 uuid 的值太过离散，不适合排序且可能出线新增加记录的 uuid，会插入在索引树中间的位置，导致索引树调整复杂度变大，消耗更多的时间和资源。</p><p>建议使用 int 类型的自增，方便排序并且默认会在索引树的末尾增加主键值，对索引树的结构影响最小。而且，主键值占用的存储空间越大，辅助索引中保存的主键值也会跟着变大，占用存储空间，也会影响到 IO 操作读取到的数据量。</p><p><ins>为什么主键通常建议使用自增 id</ins></p><p>聚簇索引的数据的物理存放顺序与索引顺序是一致的，即：只要索引是相邻的，那么对应的数据一定也是相邻地存放在磁盘上的。如果主键不是自增 id，那么可以想 象，它会干些什么，不断地调整数据的物理地址、分页，当然也有其他一些措施来减少这些操作，但却无法彻底避免。但，如果是自增的，那就简单了，它只需要一 页一页地写，索引结构相对紧凑，磁盘碎片少，效率也高。</p><h1 id="mysql扫描"><a class="anchor" href="#mysql扫描">#</a> MySQL 扫描</h1><ul><li><p>全表扫描（Full Table Scans）：当 Mysql 使用全部扫描时，会读取所有的行，并检查每一行是否满足 where 限制条件，数据库将顺序地读取分配给表的每个数据块，直到读到表的最高水线处 (high water mark, HWM，标识表的最后一个数据块)。一个多块读操作可以使一次 I/O 能读取多块数据块 (db_block_multiblock_read_count 参数设定)，而不是只读取一个数据块，这极大的减少了 I/O 总次数，提高了系统的吞吐量，所以利用多块读的方法可以十分高效地实现全表扫描</p></li><li><p>全索引扫描（full index scan）：当 MySQL 使用索引扫描时，会将索引装载进 B + 树中，通过 B + 树一级一级往下查询，直到找到存中于叶子节点的数据。使用索引扫描不需要载入全部数据，而且 B + 树查询效率极高 (一般 mysql 的 B + 树高度为 1-3)，所以使用索引扫描能大大提高查询的效率</p></li><li><p>索引覆盖：如果一个索引包含 (或覆盖) 所有需要查询的字段的值，称为‘覆盖索引’。即只需扫描索引而无须回表查询。因为 Mysql 的 B + 树叶子节点存储着行记录与主键索引数据，mysql 能直接拿到索引的数据，例如现在有主键 id，当我们执行下面 sql 时</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">select</span> id fron <span class="token keyword">table</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr></table></figure><p>mysql 能直接拿到 id，而不需要再回表查询，而当我们执行下面的 sql 时</p><figure class="highlight sql"><figcaption data-lang="SQL"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">select</span> id<span class="token punctuation">,</span>name fron <span class="token keyword">table</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span></pre></td></tr></table></figure><p>mysql 能直接拿到 id 的数据，但 name 不在索引里面，所以需要回表 (通过 ID 查询) 找到这行数据的 name。<br><img data-src="5.jpg" alt="MyISAM"></p></li></ul><p><ins>全索引扫描一定比全表扫描好吗</ins><br>不一定，当查询的数据大于 10% 的全表数据时候，全表搜索会更快。</p><p>例如：现在有 16000 行的表，每行数据都为 1k。我们知道 mysql 的每页 (page) 数据默认为 16k，那么这个表就有 1000 块。现在我要查询里面的 2000 行 (列如 id&lt;2000)。如果使用索引扫描，首先会先找到一条索引，然后再找到索引所指向的块，块里面有 16 条数据，再找到其中一条返回，上面操作将进行 2000 次，相当于遍历了 2000 次块，然而整个表的块就只有 1000 块，所以这时候使用索引扫描会比全表扫描要慢，这也是为什么当 where 条件里面有大于小于时将启用全表扫描 (大部分)</p><p><ins>什么时候会启用全表扫描</ins><br>有时候表中即使有索引，如果使用不当，也会造成全表扫描</p><ul><li>条件中使用了 null</li><li>使用 or 作为连接条件</li><li>使用 [not] in 时</li><li>使用模糊查询时</li><li>使用！= 或者 &lt;&gt; 时</li><li>使用 count (*) 时</li><li>使用参数作为条件时</li><li>模糊查询 % like</li><li>索引列参与计算，使用了函数</li><li>需要回表的查询结果集过大</li><li>非最左前缀顺序</li></ul><h1 id="通常一棵b树可以存放多少行数据"><a class="anchor" href="#通常一棵b树可以存放多少行数据">#</a> 通常一棵 B + 树可以存放多少行数据</h1><p>我们知道 B + 树的数据都在叶子节点，假设一颗 2 层的 B + 树，那么根节点都是索引键的指针，那么根节点能放多少指针呢？ 1page 默认为 16k，那么根节点就有 1024<em>16=16384 字节，假设主键 ID 为 bigint 类型，长度为 8 字节，而指针大小在 InnoDB 源码中设置为 6 字节，这样一共 14 字节，那么根节点就可以存放 16384/14=1170 个指针。每个指针指向一个 page，假设一条数据为 1k，那么每个块就有 16 条记录，所以一颗二层的 B + 树就有 1170</em>16=18720 条记录。<br>从而一颗三层的 B + 树就有 1170<em>1170</em>16 = 21902400 条记录，所以一颗三层的 B + 树就能装载上千万数据表</p><h1 id="数据库优化"><a class="anchor" href="#数据库优化">#</a> 数据库优化</h1><ul><li>创建并使用正确的索引</li><li>只返回需要的字段</li><li>减少交互次数（批量提交）</li><li>设置合理的 Fetch Size（数据每次返回给客户端的条数）</li></ul><div class="tags"><a href="/tags/mysql/" rel="tag"><i class="ic i-tag"></i> mysql</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-04-22 15:19:18" itemprop="dateModified" datetime="2021-04-22T15:19:18+08:00">2021-04-22</time> </span><span id="计算机科学/数据库/MySQL-基本概念与优化/" class="item leancloud_visitors" data-flag-title="MySQL-基本概念与优化" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Lucas 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Lucas 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="Lucas 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Lucas <i class="ic i-at"><em>@</em></i>专注技术分享</li><li class="link"><strong>本文链接：</strong> <a href="http://yrmlnf.coding-pages.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E4%B8%8E%E4%BC%98%E5%8C%96/" title="MySQL-基本概念与优化">http://yrmlnf.coding-pages.com/计算机科学/数据库/MySQL-基本概念与优化/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/Solr-%E5%85%A8%E6%96%87%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BD%BF%E7%94%A8/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;005yAHGDly8gplgus5sowj31hc0u0tgo.jpg" title="Solr-全文搜索引擎使用"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 大数据</span><h3>Solr-全文搜索引擎使用</h3></a></div><div class="item right"><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8/SpringBoot-%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91API%E5%90%8E%E5%8F%B0/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;005yAHGDly8gplgupk6yfj31hc0u047y.jpg" title="SpringBoot-快速开发API后台"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 后端</span><h3>SpringBoot-快速开发API后台</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84"><span class="toc-number">1.</span> <span class="toc-text">Mysql 的逻辑结构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%A6%81%E7%B4%A0acid"><span class="toc-number">2.</span> <span class="toc-text">事务的基本要素 (ACID)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98"><span class="toc-number">3.</span> <span class="toc-text">事务的并发问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-number">4.</span> <span class="toc-text">MySQL 事务隔离级别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql%E7%9A%84%E9%94%81"><span class="toc-number">5.</span> <span class="toc-text">MySQL 的锁</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql%E6%9F%A5%E8%AF%A2%E8%BF%87%E7%A8%8B"><span class="toc-number">6.</span> <span class="toc-text">MySQL 查询过程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F"><span class="toc-number">7.</span> <span class="toc-text">MySQL 日志系统</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql%E7%B4%A2%E5%BC%95"><span class="toc-number">8.</span> <span class="toc-text">Mysql 索引</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95%E4%B8%8E%E9%9D%9E%E8%81%9A%E7%B0%87%E7%B4%A2%E5%BC%95"><span class="toc-number">8.1.</span> <span class="toc-text">聚簇索引与非聚簇索引</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#mysql%E6%89%AB%E6%8F%8F"><span class="toc-number">9.</span> <span class="toc-text">MySQL 扫描</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%9A%E5%B8%B8%E4%B8%80%E6%A3%B5b%E6%A0%91%E5%8F%AF%E4%BB%A5%E5%AD%98%E6%94%BE%E5%A4%9A%E5%B0%91%E8%A1%8C%E6%95%B0%E6%8D%AE"><span class="toc-number">10.</span> <span class="toc-text">通常一棵 B + 树可以存放多少行数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96"><span class="toc-number">11.</span> <span class="toc-text">数据库优化</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E4%B8%8E%E4%BC%98%E5%8C%96/" rel="bookmark" title="MySQL-基本概念与优化">MySQL-基本概念与优化</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" rel="bookmark" title="Redis-基本概念与解决方案">Redis-基本概念与解决方案</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Lucas" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Lucas</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">40</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">12</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">41</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lvdXJuYW1l" title="https:&#x2F;&#x2F;github.com&#x2F;yourname"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;yourname"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;yourname"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPXlvdXJpZA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;yourid"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/Solr-%E5%85%A8%E6%96%87%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E4%BD%BF%E7%94%A8/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8/SpringBoot-%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91API%E5%90%8E%E5%8F%B0/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB/" title="分类于 网络爬虫">网络爬虫</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB/Scrapy-%E9%83%A8%E7%BD%B2%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABAPI%E6%9C%8D%E5%8A%A1/" title="Scrapy-部署网络爬虫API服务">Scrapy-部署网络爬虫API服务</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="分类于 大数据">大数据</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" title="分类于 数据可视化">数据可视化</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/Superset-%E9%9B%86%E6%88%90Echarts%E5%9C%B0%E5%9B%BE/" title="Superset-集成Echarts地图">Superset-集成Echarts地图</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/" title="分类于 IT运维">IT运维</a></div><span><a href="/%E6%95%B0%E6%8D%AE%E7%81%BE%E5%A4%87-%E6%90%AD%E5%BB%BASqlServer%E6%97%A0%E5%9F%9F%E7%BE%A4%E9%9B%86%E5%8F%AF%E7%94%A8%E6%80%A7%E7%BB%84/" title="数据灾备-搭建SqlServer无域群集可用性组">数据灾备-搭建SqlServer无域群集可用性组</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%90%8E%E7%AB%AF/" title="分类于 后端">后端</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8/SpringBoot-%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91API%E5%90%8E%E5%8F%B0/" title="SpringBoot-快速开发API后台">SpringBoot-快速开发API后台</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="分类于 大数据">大数据</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" title="分类于 数据可视化">数据可视化</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/Superset-%E9%9B%86%E6%88%90Echarts%E9%A5%BC%E5%9B%BE/" title="Superset-集成Echarts饼图">Superset-集成Echarts饼图</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="分类于 大数据">大数据</a></div><span><a href="/Druid-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E4%B8%8E%E4%BD%BF%E7%94%A8/" title="Druid-基本概念与使用">Druid-基本概念与使用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="分类于 大数据">大数据</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" title="分类于 数据可视化">数据可视化</a></div><span><a href="/Pentaho-RestAPI%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86/" title="Pentaho-RestAPI用户角色权限管理">Pentaho-RestAPI用户角色权限管理</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8/" title="分类于 软件应用">软件应用</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8/Github-%E9%83%A8%E7%BD%B2%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2/" title="Github-部署静态页面">Github-部署静态页面</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/" title="分类于 IT运维">IT运维</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/MySQL-%E5%9C%A8%E5%90%84%E7%B3%BB%E7%BB%9F%E4%B8%8B%E5%AE%89%E8%A3%85/" title="MySQL-在各系统下安装">MySQL-在各系统下安装</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E5%BA%93/" title="分类于 数据库">数据库</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E4%B8%8E%E4%BC%98%E5%8C%96/" title="MySQL-基本概念与优化">MySQL-基本概念与优化</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Lucas @ Lucas Home</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">370k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">5:36</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"计算机科学/数据库/MySQL-基本概念与优化/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->