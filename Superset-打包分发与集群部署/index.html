<!-- build time:Fri Apr 23 2021 17:18:45 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="专注技术分享" href="http://yrmlnf.coding-pages.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="专注技术分享" href="http://yrmlnf.coding-pages.com/atom.xml"><link rel="alternate" type="application/json" title="专注技术分享" href="http://yrmlnf.coding-pages.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="superset"><link rel="canonical" href="http://yrmlnf.coding-pages.com/Superset-%E6%89%93%E5%8C%85%E5%88%86%E5%8F%91%E4%B8%8E%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/"><title>Superset-打包分发与集群部署 - IT运维 - 计算机科学 | Lucas Home = 专注技术分享 = 醒醒，别做梦了</title><meta name="generator" content="Hexo 5.4.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Superset-打包分发与集群部署</h1><div class="meta"><span class="item" title="创建时间：2020-03-30 15:16:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2020-03-30T15:16:00+08:00">2020-03-30</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>5.3k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>5 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Lucas Home</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva4.sinaimg.cn/large/005yAHGDly8gplguhc0akj31hc0u0qbg.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/005yAHGDly8gplff3dn3dj31hc0u0tkn.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/005yAHGDly8gplfeum259j31hc0u0h06.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/005yAHGDly8gplfecrrp0j31hc0u0aox.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/005yAHGDly8gplgux2ynoj31hc0u07d2.jpg"></li><li class="item" data-background-image="https://tva4.sinaimg.cn/large/005yAHGDly8gplgvaqunrj31hc0u0dmi.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" itemprop="item" rel="index" title="分类于 计算机科学"><span itemprop="name">计算机科学</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/" itemprop="item" rel="index" title="分类于 IT运维"><span itemprop="name">IT运维</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://yrmlnf.coding-pages.com/Superset-%E6%89%93%E5%8C%85%E5%88%86%E5%8F%91%E4%B8%8E%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Lucas"><meta itemprop="description" content="醒醒，别做梦了, "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="专注技术分享"></span><div class="body md" itemprop="articleBody"><h1 id="操作系统"><a class="anchor" href="#操作系统">#</a> 操作系统</h1><ul class="task-list"><li class="task-list-item"><input type="checkbox" id="cbx_0" checked disabled><label for="cbx_0">Linux</label></li><li class="task-list-item"><input type="checkbox" id="cbx_1" checked disabled><label for="cbx_1">Mac OS</label></li><li class="task-list-item"><input type="checkbox" id="cbx_2" checked disabled><label for="cbx_2">Windows</label></li></ul><h1 id="软件依赖"><a class="anchor" href="#软件依赖">#</a> 软件依赖</h1><ul><li>python3.6~</li><li>pip~</li><li>setuptools~</li><li>nodejs 12.15.0~</li></ul><h1 id="实验环境"><a class="anchor" href="#实验环境">#</a> 实验环境</h1><ul><li>centos-7-minimal</li><li>python3.68</li><li>setuptools~</li><li>pip~</li><li>nodejs 12.16.1~</li></ul><h1 id="superset打包"><a class="anchor" href="#superset打包">#</a> SuperSet 打包</h1><p>Python 的模块或者源文件直接可以复制到目标项目目录中，就可以导入使用了。但是为了更多项目调用使用，或者共享给别人，就需要打包，或发布到网络，以便供人使用。目的也是为了复用。</p><h2 id="修改setpupy"><a class="anchor" href="#修改setpupy">#</a> <span class="exturl" data-url="aHR0cDovL3huLS1zZXRwdS0zdTNoMTU4ai5weQ==">修改 setpu.py</span></h2><ol><li>进入 superset 根目录<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token builtin class-name">cd</span> /work/test2/incubator-superset/</pre></td></tr></table></figure></li><li>修改 setup.py 文件<br><img data-src="1.png" alt="setup.py文件"><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">vi</span> setup.py</pre></td></tr></table></figure>找到下面代码<figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>setup<span class="token punctuation">(</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    name<span class="token operator">=</span><span class="token string">"apache-superset"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    description<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"A modern, enterprise-ready business intelligence web application"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    long_description<span class="token operator">=</span>long_description<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    long_description_content_type<span class="token operator">=</span><span class="token string">"text/markdown"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    version<span class="token operator">=</span>version_string<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    packages<span class="token operator">=</span>find_packages<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    include_package_data<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    zip_safe<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    scripts<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"superset/bin/superset"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    install_requires<span class="token operator">=</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token string">"backoff>=1.8.0"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token string">"bleach>=3.0.2, &lt;4.0.0"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>省略<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span></pre></td></tr></table></figure><ins>name 修改为二次开发项目的名称，也是上传到 Pipy 的包名，如果需要上传到 Pypi，命名前先在 pipy 查询一下防止重名。</ins><br><ins>version 修改为二次开发项目的版本号</ins><br><ins>install_requires 下增加二次开发中需要用到的包</ins><figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tr><td data-num="1"></td><td><pre>setup<span class="token punctuation">(</span></pre></td></tr><tr><td data-num="2"></td><td><pre>      <span class="token comment">#修改</span></pre></td></tr><tr><td data-num="3"></td><td><pre>      name<span class="token operator">=</span><span class="token string">"zjft-superset"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>      description<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">"A modern, enterprise-ready business intelligence web application"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      long_description<span class="token operator">=</span>long_description<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>      long_description_content_type<span class="token operator">=</span><span class="token string">"text/markdown"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>      <span class="token comment">#修改，本例没有修改版本号</span></pre></td></tr><tr><td data-num="8"></td><td><pre>      version<span class="token operator">=</span>version_string<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>      packages<span class="token operator">=</span>find_packages<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>      include_package_data<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>      zip_safe<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>      scripts<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"superset/bin/superset"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>      install_requires<span class="token operator">=</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="14"></td><td><pre>          <span class="token string">"backoff>=1.8.0"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="15"></td><td><pre>          <span class="token string">"bleach>=3.0.2, &lt;4.0.0"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>      <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>省略<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    ```</pre></td></tr><tr><td data-num="18"></td><td><pre>    修改完后保存</pre></td></tr><tr><td data-num="19"></td><td><pre>    ```bash</pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token comment">#shift+: 进入命令模式</span></pre></td></tr><tr><td data-num="21"></td><td><pre>        <span class="token punctuation">:</span>wq</pre></td></tr></table></figure></li></ol><h2 id="编译前端"><a class="anchor" href="#编译前端">#</a> 编译前端</h2><ol><li><p>进入 asset 目录</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> /work/test2/incubator-superset/superset/assets</pre></td></tr></table></figure></li><li><p>编译</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">npm</span> <span class="token function">install</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">npm</span> run build</pre></td></tr></table></figure></li></ol><h2 id="开始打包"><a class="anchor" href="#开始打包">#</a> 开始打包</h2><ol><li><p>进入 superset 根目录</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> /work/test2/incubator-superset/</pre></td></tr></table></figure></li><li><p>开始打包，有两种方式可以选择</p><ol><li>打包成 wheel (推荐)<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>python setup.py bdist_wheel</pre></td></tr></table></figure></li><li>打包成 tar<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>python setup.py sdist</pre></td></tr></table></figure></li></ol><p>打包完成后会自动创建一个 dist 文件夹，里面存放打包好的文件</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">ls</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">></span> zjft_superset-0.35.2-py3-none-any.whl  zjft-superset-0.35.2.tar.gz</pre></td></tr></table></figure></li></ol><h1 id="superset分发"><a class="anchor" href="#superset分发">#</a> SuperSet 分发</h1><h2 id="手动分发"><a class="anchor" href="#手动分发">#</a> 手动分发</h2><p>将生成好的安装手动上传到服务器</p><h2 id="网络分发"><a class="anchor" href="#网络分发">#</a> 网络分发</h2><h3 id="方式1将包上传到自建的文件服务器"><a class="anchor" href="#方式1将包上传到自建的文件服务器">#</a> 方式 1. 将包上传到自建的文件服务器</h3><p><img data-src="2.png" alt="分发1"></p><h3 id="方式2将包上传到pypi"><a class="anchor" href="#方式2将包上传到pypi">#</a> 方式 2. 将包上传到 pypi</h3><p>ps: 上传到 pypi 的包可以被所有人下载</p><ol><li>首先进入<span class="exturl" data-url="aHR0cHM6Ly9weXBpLm9yZw=="> pypi 官网</span>，注册一个账号</li><li>打开 cmd 命令行输入以下命令 安装 twine 第三方模块<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>pip <span class="token function">install</span> twine</pre></td></tr></table></figure></li><li>上传<br>期间如无配置文件会让你输入注册的用户名和密码<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token builtin class-name">cd</span> /work/test2/incubator-superset/</pre></td></tr><tr><td data-num="2"></td><td><pre>$ twine upload dist/*</pre></td></tr></table></figure></li></ol><h1 id="superset安装"><a class="anchor" href="#superset安装">#</a> SuperSet 安装</h1><h2 id="创建python虚拟环境"><a class="anchor" href="#创建python虚拟环境">#</a> 创建 python 虚拟环境</h2><div class="note info"><p>python3 自带 venv 模块创建虚拟环境，使用虚拟环境隔离本身系统的环境，方便测试是否安装成功</p></div><ol><li>创建虚拟环境<br>myven 为虚拟环境名，运行后会自动创建一个 myven 文件夹<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> /opt/</pre></td></tr><tr><td data-num="2"></td><td><pre>	python3 -m venv venv myven</pre></td></tr></table></figure></li><li>激活虚拟环境<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token builtin class-name">cd</span> /opt/</pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token builtin class-name">.</span> ./myven/bin/activate</pre></td></tr></table></figure></li></ol><p><ins>激活虚拟环境后命令行将变为（myven）</ins></p><h2 id="手动分发安装方式"><a class="anchor" href="#手动分发安装方式">#</a> 手动分发安装方式</h2><p>进入到安装文件目录，执行 pip 安装</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>pip <span class="token function">install</span> superset-0.35.2-py3-none-any.whl</pre></td></tr></table></figure><p>如果是打包 tar，则需要先解压</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">tar</span> -zxvf zjft-superset-0.35.2.tar.gz</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token builtin class-name">cd</span> zjft-superset-0.35.2</pre></td></tr><tr><td data-num="3"></td><td><pre>python setup.py <span class="token function">install</span></pre></td></tr></table></figure><h2 id="网络分发安装方式"><a class="anchor" href="#网络分发安装方式">#</a> 网络分发安装方式</h2><p>如果是自建文件服务器，则</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>pip <span class="token function">install</span> http://10.34.1.9/pkgs/superset-zijin/zjft_superset-0.35.2-py3-none-any.whl</pre></td></tr></table></figure><p>如果是上传到 pipy 的包，则</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>pip <span class="token function">install</span> zjft-superset</pre></td></tr></table></figure><h2 id="验证是否安装成功"><a class="anchor" href="#验证是否安装成功">#</a> 验证是否安装成功</h2><p>如果安装过程无报错，运行下面命令启动服务器</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>superset run</pre></td></tr></table></figure><p>如果无报错则安装成功</p><h1 id="部署superset单机服务"><a class="anchor" href="#部署superset单机服务">#</a> 部署 Superset 单机服务</h1><div class="note info"><p>Gunicorn (独角兽) 是一个 unix 上被广泛使用的高性能的 Python WSGI UNIX HTTP Server。和大多数的 web 框架兼容，并具有实现简单，轻量级，高性能等特点。<br>supset 可以运行在 nginx，tomcat，gunicorn 中，本例使用 gunicorn 作为服务器容器</p></div><ol><li>安装相应 python 包<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>pip <span class="token function">install</span> gevent</pre></td></tr><tr><td data-num="2"></td><td><pre>	pip <span class="token function">install</span> gunicorn</pre></td></tr></table></figure></li><li>启动服务<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>gunicorn -w <span class="token number">2</span> -k gevent --timeout <span class="token number">60</span> -b <span class="token number">0.0</span>.0.0:9000 --limit-request-line <span class="token number">0</span> --limit-request-field-size <span class="token number">0</span> superset:app</pre></td></tr></table></figure>-w: 进程的数量<br>- k：工作模式，这里选择 gevent，如果选择其他工作模式需要安装其他 pythton 包<br>--timeout：超时秒数<br>- b: 访问地址<br>--limit-request-line：HTTP 请求行的最大大小，此参数用于限制 HTTP 请求行的允许大小，默认情况下，这个值为 4094。值是 0~8190 的数字。此参数可以防止任何 DDOS 攻击<br>--limit-request-field-size：限制 HTTP 请求中请求头的大小，默认情况下这个值为 8190。值是一个整数或者 0，当该值为 0 时，表示将对请求头大小不做限制<br>运行成功后打开 http://ip:9000 即可</li></ol><h1 id="部署superset集群服务"><a class="anchor" href="#部署superset集群服务">#</a> 部署 Superset 集群服务</h1><h2 id="安装nginx"><a class="anchor" href="#安装nginx">#</a> 安装 Nginx</h2><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token function">sudo</span> yum -y <span class="token function">install</span> nginx <span class="token comment"># 安装 nginx</span></pre></td></tr><tr><td data-num="2"></td><td><pre>$ <span class="token function">sudo</span> yum remove nginx <span class="token comment"># 卸载 nginx</span></pre></td></tr></table></figure><p>❌如果出现下面错误</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>root@localhost yum.repos.d<span class="token punctuation">]</span><span class="token comment"># yum install nginx</span></pre></td></tr><tr><td data-num="2"></td><td><pre>已加载插件：fastestmirror, langpacks</pre></td></tr><tr><td data-num="3"></td><td><pre>Loading mirror speeds from cached hostfile</pre></td></tr><tr><td data-num="4"></td><td><pre>没有可用软件包 nginx。</pre></td></tr><tr><td data-num="5"></td><td><pre>错误：无须任何处理</pre></td></tr></table></figure><p>yum 添加 nginx 源</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>$ <span class="token function">rpm</span> -ivh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm</pre></td></tr></table></figure><h2 id="测试nginx是否安装成功"><a class="anchor" href="#测试nginx是否安装成功">#</a> 测试 nginx 是否安装成功</h2><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">service</span> nginx status</pre></td></tr></table></figure><p>其他命令:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>systemctl <span class="token builtin class-name">enable</span> nginx <span class="token comment"># 设置开机启动</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">service</span> nginx start <span class="token comment"># 启动 nginx 服务</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">service</span> nginx stop <span class="token comment"># 停止 nginx 服务</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">service</span> nginx status <span class="token comment"># 查看 nginx 服务</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">service</span> nginx restart <span class="token comment"># 重启 nginx 服务</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">service</span> nginx reload <span class="token comment"># 重新加载配置，一般是在修改过 nginx 配置文件时使用。</span></pre></td></tr></table></figure><h2 id="启动nginx"><a class="anchor" href="#启动nginx">#</a> 启动 nginx</h2><p><ins>nginx 默认启动 80 端口，先确保 80 端口没有被占用</ins></p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">service</span> nginx start</pre></td></tr></table></figure><p>打开 http://ip, 就能看见 Nginx 的 Hello world</p><pre><code>Welcome to nginx!
If you see this page, the nginx web server is successfully installed and working. Further configuration is required.

For online documentation and support please refer to nginx.org.
Commercial support is available at nginx.com.

Thank you for using nginx.
</code></pre><h2 id="修改nginx配置"><a class="anchor" href="#修改nginx配置">#</a> 修改 nginx 配置</h2><p>nginx 的配置文件默认在 /etc/nginx/conf.d/default.conf, 修改该文件</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">vi</span> /etc/nginx/conf.d/default.conf</pre></td></tr></table></figure><p>文件修改成以下内容</p><pre><code>upstream web_server &#123;
server 0.0.0.0:9000 weight=2;
server 0.0.0.0:9001 weight=1;
&#125;

server &#123;
listen 80;
server_name localhost;

#charset koi8-r;
#access_log /var/log/nginx/host.access.log main;

location / &#123;
proxy_set_header Host $host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwraded-For $remote_addr;
proxy_pass http://web_server;
add_header backendIP $upstream_addr;
add_header backendCode $upstream_status;
&#125;

#error_page 404 /404.html;

error_page 500 502 503 504 /50x.html;
location = /50x.html &#123;
root /usr/share/nginx/html;
&#125;
&#125;
</code></pre><p>web_server 为需要集群的两个 superset 地址，weight 为轮询权重，这里的配置意思是三次请求，有两次会请求到 9000, 有一次回到 9001.<br><ins>add_header 与 add_header 属性会把实际服务器的地址作为 header 返回，这里为了测试负载均衡是否有效，生产环境必须去掉</ins></p><h2 id="重启nginx"><a class="anchor" href="#重启nginx">#</a> 重启 Nginx</h2><p>修改配置后必须重新加载配置文件</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">service</span> nginx reload</pre></td></tr></table></figure><h2 id="验证nginx负载均衡"><a class="anchor" href="#验证nginx负载均衡">#</a> 验证 Nginx 负载均衡</h2><p>浏览器里按 f12 打开开发者工具然后访问 http://10.34.11.62/<br>连续按 ctrl+f5（强制清除缓存刷新）三次</p><p>可以看见前两次请求的都是 9000 端口的 superset<br><img data-src="3.png" alt="负载均衡"><br>最后一次为 9001 端口的 superset<br><img data-src="4.png" alt="负载均衡"></p><h2 id="nginx负载均衡失败解决方法"><a class="anchor" href="#nginx负载均衡失败解决方法">#</a> Nginx 负载均衡失败解决方法</h2><p>如果连续发送三次请求都只访问同一个 server 说明负载均衡出现问题，按下面顺序检查问题</p><ol><li>确保集群里的 superset 都是可用的</li><li>确保配置文件正确并且已经重新加载配置文件</li><li>查看 nginx 错误日志</li></ol><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">vi</span> /var/log/nginx/error.log</pre></td></tr></table></figure><p>❌权限错误:</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>crit<span class="token punctuation">]</span> <span class="token number">2717</span><span class="token comment">#2717: *10 connect() to 127.0.0.1:9001 failed (13: Permission denied) while connecting to upstream, client: 10.34.11.33, server: 10.34.11.62, request: "GET / HTTP/1.1", upstream: "http://127.0.0.1:9001/", host: "10.34.11.62"</span></pre></td></tr></table></figure><p>原因：这是因为 SeLinux 的限制。</p><h3 id="解决方案"><a class="anchor" href="#解决方案">#</a> 解决方案:</h3><h4 id="关闭selinux"><a class="anchor" href="#关闭selinux">#</a> 关闭 SeLinux</h4><ol><li><p>临时关闭（不用重启机器）：<br>setenforce 1 设置 SELinux 成为 enforcing 模式</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>setenforce <span class="token number">0</span></pre></td></tr></table></figure></li><li><p>修改配置文件需要重启机器：</p><p>修改 /etc/selinux/config 文件</p><p>将 SELINUX=enforcing 改为 SELINUX=disabled</p><p>重启机器即可</p></li></ol><h4 id="执行下面的命令"><a class="anchor" href="#执行下面的命令">#</a> 执行下面的命令</h4><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre>setsebool -P httpd_can_network_connect <span class="token number">1</span></pre></td></tr><tr><td data-num="2"></td><td><pre>```﻿​</pre></td></tr></table></figure><div class="tags"><a href="/tags/superset/" rel="tag"><i class="ic i-tag"></i> superset</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2021-04-23 16:21:54" itemprop="dateModified" datetime="2021-04-23T16:21:54+08:00">2021-04-23</time> </span><span id="Superset-打包分发与集群部署/" class="item leancloud_visitors" data-flag-title="Superset-打包分发与集群部署" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span class="leancloud-visitors-count"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Lucas 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Lucas 支付宝"><p>支付宝</p></div><div><img data-src="/images/paypal.png" alt="Lucas 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Lucas <i class="ic i-at"><em>@</em></i>专注技术分享</li><li class="link"><strong>本文链接：</strong> <a href="http://yrmlnf.coding-pages.com/Superset-%E6%89%93%E5%8C%85%E5%88%86%E5%8F%91%E4%B8%8E%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/" title="Superset-打包分发与集群部署">http://yrmlnf.coding-pages.com/Superset-打包分发与集群部署/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"></div><div class="item right"><a href="/%E8%B5%B7%E6%AD%A5-%E6%83%B3%E5%86%99%E5%8D%9A%E5%AE%A2%E5%89%8D%E5%BF%85%E7%9C%8B/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;005yAHGDly8gplfe0jyyej31hc0u0wmy.jpg" title="起步-想写博客前必看"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 软件应用</span><h3>起步-想写博客前必看</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.</span> <span class="toc-text">操作系统</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BD%AF%E4%BB%B6%E4%BE%9D%E8%B5%96"><span class="toc-number">2.</span> <span class="toc-text">软件依赖</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C%E7%8E%AF%E5%A2%83"><span class="toc-number">3.</span> <span class="toc-text">实验环境</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#superset%E6%89%93%E5%8C%85"><span class="toc-number">4.</span> <span class="toc-text">SuperSet 打包</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9setpupy"><span class="toc-number">4.1.</span> <span class="toc-text">修改 setpu.py</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E5%89%8D%E7%AB%AF"><span class="toc-number">4.2.</span> <span class="toc-text">编译前端</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E6%89%93%E5%8C%85"><span class="toc-number">4.3.</span> <span class="toc-text">开始打包</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#superset%E5%88%86%E5%8F%91"><span class="toc-number">5.</span> <span class="toc-text">SuperSet 分发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%88%86%E5%8F%91"><span class="toc-number">5.1.</span> <span class="toc-text">手动分发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%88%86%E5%8F%91"><span class="toc-number">5.2.</span> <span class="toc-text">网络分发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F1%E5%B0%86%E5%8C%85%E4%B8%8A%E4%BC%A0%E5%88%B0%E8%87%AA%E5%BB%BA%E7%9A%84%E6%96%87%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">5.2.1.</span> <span class="toc-text">方式 1. 将包上传到自建的文件服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F2%E5%B0%86%E5%8C%85%E4%B8%8A%E4%BC%A0%E5%88%B0pypi"><span class="toc-number">5.2.2.</span> <span class="toc-text">方式 2. 将包上传到 pypi</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#superset%E5%AE%89%E8%A3%85"><span class="toc-number">6.</span> <span class="toc-text">SuperSet 安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BApython%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83"><span class="toc-number">6.1.</span> <span class="toc-text">创建 python 虚拟环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%88%86%E5%8F%91%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F"><span class="toc-number">6.2.</span> <span class="toc-text">手动分发安装方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%88%86%E5%8F%91%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F"><span class="toc-number">6.3.</span> <span class="toc-text">网络分发安装方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F"><span class="toc-number">6.4.</span> <span class="toc-text">验证是否安装成功</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2superset%E5%8D%95%E6%9C%BA%E6%9C%8D%E5%8A%A1"><span class="toc-number">7.</span> <span class="toc-text">部署 Superset 单机服务</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2superset%E9%9B%86%E7%BE%A4%E6%9C%8D%E5%8A%A1"><span class="toc-number">8.</span> <span class="toc-text">部署 Superset 集群服务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85nginx"><span class="toc-number">8.1.</span> <span class="toc-text">安装 Nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95nginx%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F"><span class="toc-number">8.2.</span> <span class="toc-text">测试 nginx 是否安装成功</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8nginx"><span class="toc-number">8.3.</span> <span class="toc-text">启动 nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9nginx%E9%85%8D%E7%BD%AE"><span class="toc-number">8.4.</span> <span class="toc-text">修改 nginx 配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%90%AFnginx"><span class="toc-number">8.5.</span> <span class="toc-text">重启 Nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"><span class="toc-number">8.6.</span> <span class="toc-text">验证 Nginx 负载均衡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%A4%B1%E8%B4%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="toc-number">8.7.</span> <span class="toc-text">Nginx 负载均衡失败解决方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">8.7.1.</span> <span class="toc-text">解决方案:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%97%ADselinux"><span class="toc-number">8.7.1.1.</span> <span class="toc-text">关闭 SeLinux</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E4%B8%8B%E9%9D%A2%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-number">8.7.1.2.</span> <span class="toc-text">执行下面的命令</span></a></li></ol></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/Superset-%E6%89%93%E5%8C%85%E5%88%86%E5%8F%91%E4%B8%8E%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/" rel="bookmark" title="Superset-打包分发与集群部署">Superset-打包分发与集群部署</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/Python-%E5%9C%A8%E5%90%84%E7%B3%BB%E7%BB%9F%E4%B8%8B%E5%AE%89%E8%A3%85/" rel="bookmark" title="Python-在各系统下安装">Python-在各系统下安装</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/NodeJs-%E5%9C%A8%E5%90%84%E7%B3%BB%E7%BB%9F%E4%B8%8B%E5%AE%89%E8%A3%85/" rel="bookmark" title="Nodejs-在各系统安装">Nodejs-在各系统安装</a></li><li><a href="/%E6%95%B0%E6%8D%AE%E7%81%BE%E5%A4%87-%E6%90%AD%E5%BB%BASqlServer%E6%97%A0%E5%9F%9F%E7%BE%A4%E9%9B%86%E5%8F%AF%E7%94%A8%E6%80%A7%E7%BB%84/" rel="bookmark" title="数据灾备-搭建SqlServer无域群集可用性组">数据灾备-搭建SqlServer无域群集可用性组</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/Flink-%E5%BC%80%E5%8F%91%E5%8F%8A%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/" rel="bookmark" title="Flink-开发及部署指南">Flink-开发及部署指南</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/Tomcat-%E9%85%8D%E7%BD%AESSL/" rel="bookmark" title="Tomcat-配置SSL">Tomcat-配置SSL</a></li><li><a href="/Canal-%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/" rel="bookmark" title="Canal-部署指南">Canal-部署指南</a></li><li><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/MySQL-%E5%9C%A8%E5%90%84%E7%B3%BB%E7%BB%9F%E4%B8%8B%E5%AE%89%E8%A3%85/" rel="bookmark" title="MySQL-在各系统下安装">MySQL-在各系统下安装</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Lucas" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Lucas</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">40</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">12</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">41</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lvdXJuYW1l" title="https:&#x2F;&#x2F;github.com&#x2F;yourname"><i class="ic i-github"></i></span> <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;yourname"><i class="ic i-twitter"></i></span> <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;yourname"><i class="ic i-zhihu"></i></span> <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPXlvdXJpZA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;yourid"><i class="ic i-cloud-music"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8/" title="分类于 软件应用">软件应用</a></div><span><a href="/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91-%E9%98%BF%E9%87%8C%E4%BA%91%E8%BD%BB%E9%87%8F%E7%BA%A7%E5%BA%94%E7%94%A8%E6%90%AD%E5%BB%BAVPN%E6%9C%8D%E5%8A%A1/" title="科学上网-阿里云轻量级应用搭建VPN服务">科学上网-阿里云轻量级应用搭建VPN服务</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/" title="分类于 IT运维">IT运维</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/MySQL-%E5%9C%A8%E5%90%84%E7%B3%BB%E7%BB%9F%E4%B8%8B%E5%AE%89%E8%A3%85/" title="MySQL-在各系统下安装">MySQL-在各系统下安装</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/" title="分类于 IT运维">IT运维</a></div><span><a href="/%E6%95%B0%E6%8D%AE%E7%81%BE%E5%A4%87-%E6%90%AD%E5%BB%BASqlServer%E6%97%A0%E5%9F%9F%E7%BE%A4%E9%9B%86%E5%8F%AF%E7%94%A8%E6%80%A7%E7%BB%84/" title="数据灾备-搭建SqlServer无域群集可用性组">数据灾备-搭建SqlServer无域群集可用性组</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="分类于 数据结构">数据结构</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-HashMap/" title="数据结构-HashMap">数据结构-HashMap</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="分类于 大数据">大数据</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E6%B2%BB%E7%90%86/" title="分类于 数据治理">数据治理</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E6%B2%BB%E7%90%86/%E6%95%B0%E6%8D%AE%E6%B2%BB%E7%90%86-%E6%95%B0%E6%8D%AE%E8%A1%80%E7%BC%98%E8%AE%BE%E8%AE%A1/" title="数据治理-数据血缘设计">数据治理-数据血缘设计</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="分类于 数据结构">数据结构</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-TreeMap%E7%BA%A2%E9%BB%91%E6%A0%91/" title="数据结构-TreeMap红黑树">数据结构-TreeMap红黑树</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/" title="分类于 IT运维">IT运维</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/IT%E8%BF%90%E7%BB%B4/Tomcat-%E9%85%8D%E7%BD%AESSL/" title="Tomcat-配置SSL">Tomcat-配置SSL</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="分类于 大数据">大数据</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/" title="分类于 数据可视化">数据可视化</a></div><span><a href="/Pentaho-8-3%E7%89%88%E6%9C%AC%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%81%E7%A7%BB/" title="Pentaho-8.3版本数据库迁移">Pentaho-8.3版本数据库迁移</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8/" title="分类于 软件应用">软件应用</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%BD%AF%E4%BB%B6%E5%BA%94%E7%94%A8/Hexo-Next%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85%E5%92%8C%E9%83%A8%E7%BD%B2/" title="Hexo-Next主题安装和部署">Hexo-Next主题安装和部署</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/" title="分类于 大数据">大数据</a> <i class="ic i-angle-right"></i> <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/" title="分类于 数据仓库">数据仓库</a></div><span><a href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93-%E4%B8%80%E4%BA%9B%E6%95%B0%E4%BB%93%E7%90%86%E8%AE%BA%E5%9C%A8%E5%B7%A5%E4%BD%9C%E4%B8%AD%E7%9A%84%E7%90%86%E8%A7%A3/" title="数据仓库-一些数仓理论在工作中的理解">数据仓库-一些数仓理论在工作中的理解</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Lucas @ Lucas Home</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">370k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">5:36</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"Superset-打包分发与集群部署/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->